/*! For license information please see streamer.e80cc95203d2ce494d3b.mjs.LICENSE.txt */
(()=>{"use strict";var e={8277:(e,t,s)=>{s.r(t);var i=s(3379),n=s.n(i),o=s(9037),r=s.n(o),a=s(569),c=s.n(a),l=s(3565),u=s.n(l),d=s(9216),b=s.n(d),f=s(1603),h={};h.setAttributes=u(),h.insert=c().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=b(),n()(f.Z,h);const p=f.Z&&f.Z.locals?f.Z.locals:void 0;function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},m.apply(this,arguments)}const y="streamer",g="txt",v="data-field",w="data-symbol",k="data-stream",S="value",C="active";class M extends HTMLElement{constructor(){super(),this.initialized=!1,this.cssToggle=!1,this.value=void 0,this.transform=null,this.onUpdate=this.onUpdate.bind(this)}static get observedAttributes(){return[w,v,C]}onUpdate(e,{field:t,quote:s}={}){if(!e&&"number"!=typeof e)return;const i="object"!=typeof e?{raw:e,fmt:e}:e,{raw:n}=i;if(this.value!==n){const e=this.getAttribute("changeev");e&&this.dispatchEvent(new CustomEvent(`finWebCore_${e}`,{detail:m({},i,{field:t,quote:s}),bubbles:!0})),this.cssToggle=!this.cssToggle;const o=n-this.value;this.value=n,this.render(m({},i,{trend:o}))}}subscribe({symbols:e,fields:t}){var s;e&&t&&e.length&&t.length&&this.hasAttribute(C)&&"function"==typeof(null==(s=window.finQuoteStreamer)?void 0:s.subscribe)&&window.finQuoteStreamer.subscribe({symbols:e,fields:t,type:this.getAttribute(k)||y,priceHint:this.getAttribute("data-pricehint"),formatStyle:this.getAttribute("data-fstyle"),callback:this.onUpdate})}unsubscribe({symbols:e,fields:t}){var s;e&&t&&e.length&&t.length&&"function"==typeof(null==(s=window.finQuoteStreamer)?void 0:s.unsubscribe)&&window.finQuoteStreamer.unsubscribe({symbols:e,fields:t,type:this.getAttribute(k)||y,callback:this.onUpdate})}connectedCallback(){if(!this.initialized){const e=this.getAttribute(v),t=this.getAttribute(w);this.value=parseFloat(this.getAttribute(S)||""),t&&e&&this.subscribe({symbols:[t],fields:[e]}),this.initialized=!0}}disconnectedCallback(){const e=this.getAttribute(v),t=this.getAttribute(w);t&&e&&this.unsubscribe({symbols:[t],fields:[e]}),this.initialized=!1}attributeChangedCallback(e,t,s){if(this.initialized)switch(e){case w:t!==s&&s&&(this.unsubscribe({symbols:[t],fields:[this.getAttribute(v)]}),this.subscribe({symbols:[s],fields:[this.getAttribute(v)]}));break;case v:t!==s&&s&&(this.unsubscribe({symbols:[this.getAttribute(w)],fields:[t]}),this.subscribe({symbols:[this.getAttribute(w)],fields:[s]}));break;case C:{const e=null!==t,i=null!==s;e&&!i?this.unsubscribe({symbols:[this.getAttribute(w)],fields:[this.getAttribute(v)]}):!e&&i&&this.subscribe({symbols:[this.getAttribute(w)],fields:[this.getAttribute(v)]})}break;case S:this.value=parseFloat(s)}}render(e){"function"==typeof this.transform&&(e=this.transform(e));const{raw:t,trend:s}=e,i=this.getAttribute("data-trend")||g,n=this.getAttribute("data-template"),o=this.getAttribute("data-dfield")||"fmt",r="arrow"===this.getAttribute("data-tstyle");let a=p.base,c="";if(t>0)switch(i){case"bg":a+=` ${p.posBgColor}`,c=r?"↑ ":"+";break;case g:a+=` ${p.posColor}`,c=r?"↑ ":"+"}else if(t<0)switch(i){case"bg":a+=` ${p.negBgColor}`,r&&(c="↓ ");break;case g:a+=` ${p.negColor}`,r&&(c="↓ ")}s>0?a+=` ${this.cssToggle?p.trendUp1:p.trendUp2}`:s<0&&(a+=` ${this.cssToggle?p.trendDown1:p.trendDown2}`);let l=c+(e[o]||"");r&&(l=l.replace("-","")),n&&(l=function(e,t){let s=e,i=!1;return Object.keys(t).forEach((e=>{t[e]&&(i=!0),s=s.replace(new RegExp(`{${e}}`,"g"),t[e])})),i?s:""}(n,{raw:t,fmt:l})),this.children[0]?(this.children[0].className=a,this.children[0].textContent=l):this.innerHTML=`<span class="${a}">${l}</span>`}}window.customElements&&!window.customElements.get("fin-streamer")&&window.customElements.define("fin-streamer",M)},1603:(e,t,s)=>{s.d(t,{Z:()=>a});var i=s(8081),n=s.n(i),o=s(3645),r=s.n(o)()(n());r.push([e.id,'.a405bf5d{color:blue}.e3b14781{position:relative;white-space:nowrap;z-index:0}.e3b14781:before,.a7c78a61{content:"";display:block;height:100%;left:0;opacity:0;position:absolute;top:0;width:100%;z-index:-1}.e3b14781:before{background-color:#00853c1a}.e3b14781:after{background-color:#bd14141a;content:"";display:block;height:100%;left:0;opacity:0;position:absolute;top:0;width:100%;z-index:-1}.f4be3290{color:#007560}.ee3e99dd{color:#bd1414}.b3c3f2ca{background-color:#007560}.cd7d43ff,.b3c3f2ca{border-radius:3px;color:#fff;padding:2px 10px}.cd7d43ff{background-color:#bd1414}.a6c2a027{font-size:12px}.f5193b25{font-size:14px;font-weight:700}.bf673e9a{font-weight:500;margin-left:4px}@-webkit-keyframes ed961825{25%{display:block;opacity:1}75%{opacity:1}to{display:none;opacity:0}}@keyframes ed961825{25%{display:block;opacity:1}75%{opacity:1}to{display:none;opacity:0}}@-webkit-keyframes de628db8{25%{display:block;opacity:1}75%{opacity:1}to{display:none;opacity:0}}@keyframes de628db8{25%{display:block;opacity:1}75%{opacity:1}to{display:none;opacity:0}}@-webkit-keyframes e816a496{25%{display:block;opacity:1}75%{opacity:1}to{display:none;opacity:0}}@keyframes e816a496{25%{display:block;opacity:1}75%{opacity:1}to{display:none;opacity:0}}@-webkit-keyframes f90c4216{25%{display:block;opacity:1}75%{opacity:1}to{display:none;opacity:0}}@keyframes f90c4216{25%{display:block;opacity:1}75%{opacity:1}to{display:none;opacity:0}}.e887be10{background-color:#00853c1a}.b0e44130{background-color:#bd14141a}.f5a023e1:before{-webkit-animation:ed961825 .7s;animation:ed961825 .7s}.e983cf79:before{-webkit-animation:de628db8 .7s;animation:de628db8 .7s}.e59c8479:after{-webkit-animation:e816a496 .7s;animation:e816a496 .7s}.dde7f18a:after{-webkit-animation:f90c4216 .7s;animation:f90c4216 .7s}',""]),r.locals={primaryColor:"#232a31",secondaryColor:"#464e56",tertiaryColor:"#5b636a",tertiaryColor2:"#6e7780",layoutBgColor:"#fff",headerBgColor:"#f5f8fa",lv1BgColor:"#f0f3f5",lv2BgColor:"#fff",lv3BgColor:"#fff",seperatorColor:"#e0e4e9",linkColor:"#0f69ff",linkActiveColor:"#125bd4",hoverBgColor:"#e0f0ff",iconColor:"#5b636a",positiveColor:"#007560",negativeColor:"#bd1414",neutralColor:"#5b636a",positiveBgColor:"#00853c1a",negativeBgColor:"#bd14141a",activeMarketColor:"#ff7b12","c-fuji-blurple":"#5d5eff",linkSelectedColor:"#7e1fff","c-fuji-grape-jelly":"#6001d2",boxShadow:"0 2px 4px rgba(0,0,0,.2)",overlayModalBgColor:"rgba(50,50,50,0.6)",newsItemWidth:"calc(100% - 50px)",xs:"11px",xss:"12px",s:"13px",sm:"14px",m:"15px",ml:"16px",l:"18px",dummy:"a405bf5d",base:"e3b14781",baseCommon:"a7c78a61",posColor:"f4be3290",negColor:"ee3e99dd",posBgColor:"b3c3f2ca",negBgColor:"cd7d43ff",marketNotice:"a6c2a027",prepostCont:"f5193b25",prepostChange:"bf673e9a",trendUp:"e887be10",trendDown:"b0e44130",trendUp1:"f5a023e1",trendAnimUp1:"ed961825",trendUp2:"e983cf79",trendAnimUp2:"de628db8",trendDown1:"e59c8479",trendAnimDown1:"e816a496",trendDown2:"dde7f18a",trendAnimDown2:"f90c4216"};const a=r},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s="",i=void 0!==t[5];return t[4]&&(s+="@supports (".concat(t[4],") {")),t[2]&&(s+="@media ".concat(t[2]," {")),i&&(s+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),s+=e(t),i&&(s+="}"),t[2]&&(s+="}"),t[4]&&(s+="}"),s})).join("")},t.i=function(e,s,i,n,o){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(i)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(r[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);i&&r[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),s&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=s):u[2]=s),n&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=n):u[4]="".concat(n)),t.push(u))}},t}},8081:e=>{e.exports=function(e){return e[1]}},3379:e=>{var t=[];function s(e){for(var s=-1,i=0;i<t.length;i++)if(t[i].identifier===e){s=i;break}return s}function i(e,i){for(var o={},r=[],a=0;a<e.length;a++){var c=e[a],l=i.base?c[0]+i.base:c[0],u=o[l]||0,d="".concat(l," ").concat(u);o[l]=u+1;var b=s(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==b)t[b].references++,t[b].updater(f);else{var h=n(f,i);i.byIndex=a,t.splice(a,0,{identifier:d,updater:h,references:1})}r.push(d)}return r}function n(e,t){var s=t.domAPI(t);return s.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;s.update(e=t)}else s.remove()}}e.exports=function(e,n){var o=i(e=e||[],n=n||{});return function(e){e=e||[];for(var r=0;r<o.length;r++){var a=s(o[r]);t[a].references--}for(var c=i(e,n),l=0;l<o.length;l++){var u=s(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},569:e=>{var t={};e.exports=function(e,s){var i=function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(s)}},9216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,s)=>{e.exports=function(e){var t=s.nc;t&&e.setAttribute("nonce",t)}},9037:e=>{var t,s=(t=[],function(e,s){return t[e]=s,t.filter(Boolean).join("\n")});function i(e,t,i,n){var o;if(i)o="";else{o="",n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}")}if(e.styleSheet)e.styleSheet.cssText=s(t,o);else{var a=document.createTextNode(o),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(a,c[t]):e.appendChild(a)}}var n={singleton:null,singletonCounter:0};e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=n.singletonCounter++,s=n.singleton||(n.singleton=e.insertStyleElement(e));return{update:function(e){i(s,t,!1,e)},remove:function(e){i(s,t,!0,e)}}}},477:e=>{e.exports=function(e,t,s,i){var n=self||window;try{try{var o;try{o=new n.Blob([e])}catch(t){(o=new(n.BlobBuilder||n.WebKitBlobBuilder||n.MozBlobBuilder||n.MSBlobBuilder)).append(e),o=o.getBlob()}var r=n.URL||n.webkitURL,a=r.createObjectURL(o),c=new n[t](a,s);return r.revokeObjectURL(a),c}catch(i){return new n[t]("data:application/javascript,".concat(encodeURIComponent(e)),s)}}catch(e){if(!i)throw Error("Inline worker is not supported");return new n[t](i,s)}}}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={id:i,exports:{}};return e[i](o,o.exports,s),o.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="https://s.yimg.com/uc/finance/webcore/",s.nc=void 0,(()=>{function e(e="error",t,s={}){try{var i;if("function"==typeof(null==(i=window.context)?void 0:i.getActionContext)){const i=window.context.getActionContext();"function"==typeof i.beacon&&i.beacon(e,t,s)}else console["error"===e?"error":"log"](e,t,JSON.stringify(s))}catch(e){console.error(e)}}function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},t.apply(this,arguments)}const i=["https://query1.finance.yahoo.com","https://query2.finance.yahoo.com"],n=1e3;var o=s(477),r=s.n(o);function a(){return r()('/*! For license information please see streamer.worker.22f6c1fe23049f96cf11.worker.mjs.LICENSE.txt */\n(()=>{try{"function"==typeof importScripts&&(importScripts("https://cdn.jsdelivr.net/npm/protobufjs@7.1.2/dist/minimal/protobuf.min.js"),importScripts("https://s.yimg.com/uc/finance/webcore/js/_staticFinProtobuf.11fa80013745b07c4780.mjs"))}catch(e){console.error("> Finance Streamer: Importing protobuff failed.",e)}let e=null,t=null;const s={id:"symbol",dayVolume:"volume",dayHigh:"high",dayLow:"low",marketcap:"marketCap",marketHours:"marketState",openPrice:"regularMarketOpen",fromcurrency:"fromCurrency",vol_24hr:"volume24Hr",volAllCurrencies:"volumeAllCurrencies"},n={ask:!0,askSize:!0,bid:!0,bidSize:!0,dayLow:!0,dayHigh:!0,expireDate:!0},i={},o={change:!0,changePercent:!0,previousClose:!0,price:!0},r={_permanent:!0};function a(e,t){let s;return(...n)=>{clearTimeout(s),s=setTimeout((()=>e(...n)),t)}}function l(e,t){if(isNaN(e))return e;const s=Math.pow(10,t);return+Math.round(e*s)/s}class c{constructor(){this.symbolList=[],this.fieldList=[],this.connection=null}update({symbols:e,fields:t}){this.symbolList=e,this.fieldList=t}reset(){this.fieldList=[],this.symbolList=[]}}class u extends c{constructor(){super(),this.intervalHandle=null,this.handleQuoteRequest=this.handleQuoteRequest.bind(this),this.subscribe=a(this.subscribe.bind(this),1e3)}resetPoller(){this.intervalHandle&&clearInterval(this.intervalHandle),this.intervalHandle=setInterval((()=>{!function(e,{timeout:t=1e3,callback:s}){const n=new XMLHttpRequest;n.timeout=t,n.open("GET",e,!0),n.onload=()=>{let e=n.responseText;if(n.status>=200&&n.status<300&&e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return void s({status:502,message:e.message})}s(null,e)}else s({status:n.status||502,message:n.responseText})},n.onerror=()=>{s({status:n.status||500,message:n.responseText})},n.send()}(`https://query1.finance.yahoo.com/v7/finance/quote?&symbols=${this.symbolList.sort().join(",")}&fields=${this.fieldList.filter((e=>!r[e])).join(",")}`,{callback:this.handleQuoteRequest})}),5e3)}subscribe(e){const{symbols:t=[],fields:s=[]}=e||{},n=t.length>this.symbolList.length,i=s.length>this.fieldList.length;this.update({symbols:t,fields:s}),(n||i)&&this.resetPoller()}unsubscribe(e){const{symbols:t=[],fields:s=[]}=e||{},n=t.length<this.symbolList.length,i=s.length<this.fieldList.length;this.update({symbols:t,fields:s}),(n||i)&&(0!==this.symbolList.length?this.resetPoller():this.destroy())}destroy(){this.reset(),this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=null)}handleQuoteRequest(e,t){if(!e&&t){const e={type:"poller",quoteData:{}},s=t.quoteResponse&&t.quoteResponse.result;for(let t=0;t<s.length;t++){const n=s[t],{symbol:i}=n;e.quoteData[i]={price:n,summaryDetail:{}}}postMessage(e)}else console.error("> Error from Finance Quote Streamer:",e)}}class h extends c{constructor(){super(),this.connection=null,this.retries=0,this.sendConnection=a(this.sendConnection.bind(this),1e3)}subscribe(e){var t,s;const{symbols:n=[],fields:i=[]}=e||{};if(this.update({symbols:n,fields:i}),!this.connection||(null==(t=this.connection)?void 0:t.readyState)!==WebSocket.OPEN&&(null==(s=this.connection)?void 0:s.readyState)!==WebSocket.CONNECTING){const e=()=>{this.retries>10||(this.connection=new WebSocket("wss://streamer.finance.yahoo.com"),this.connection.addEventListener("open",(()=>{this.connection.send(JSON.stringify({subscribe:this.symbolList}))})),this.connection.addEventListener("error",(t=>{t&&"ECONNREFUSED"===t.code&&(this.retries++,e())})),this.connection.addEventListener("close",(t=>{t&&1e3!==t.code&&(this.retries++,e())})),this.connection.addEventListener("message",this.handleWebSocketUpdate))};e()}else this.connection.readyState===WebSocket.OPEN&&this.symbolList.length>0&&this.sendConnection(JSON.stringify({subscribe:this.symbolList}))}unsubscribe(e){var t;const{symbols:s=[],fields:n=[]}=e||{},i=new Set(s),o=this.symbolList.filter((e=>!i.has(e)));this.update({symbols:s,fields:n}),(null==(t=this.connection)?void 0:t.readyState)===WebSocket.OPEN&&o.length>0&&this.sendConnection(JSON.stringify({unsubscribe:o}))}destroy(){this.reset(),this.connection&&(this.connection.close(),this.connection=null)}sendConnection(e){this.connection.send(e)}handleWebSocketUpdate(e){try{const{PricingData:t}=protobuf.roots.default.quotefeeder,r=function(e){const t=atob(e),s=t.length,n=new Uint8Array(s);for(let e=0;e<s;e++)n[e]=t.charCodeAt(e);return n}(e.data);let a=t.decode(r);a=t.toObject(a,{enums:String});const c={};Array.isArray(a)||(a=[a]),a.forEach((e=>{null!=e&&e.id&&(c[e.id]=function(e){const t={},r={},{marketHours:a}=e,c=e.priceHint||2;let u,h="";switch(a){case"PRE_MARKET":h="preMarket",u="PRE";break;case"REGULAR_MARKET":h="regularMarket",u="REGULAR";break;case"POST_MARKET":h="postMarket",u="POST";break;case"EXTENDED_HOURS_MARKET":h="extendedMarket",u="EXTENDED"}for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){let d=s[a]||a,b=e[a];if(null==b||""===b)continue;switch(d){case"previousClose":case"price":case"time":case"dayHigh":case"dayLow":case"volume":case"changePercent":case"change":o[d]&&!isNaN(b)&&(b=l(b,c)),"time"===d&&(b/=1e3),d=h+d[0].toUpperCase()+d.substr(1);break;case"marketState":b=u}n[d]?r[d]=b:i[d]||(t[d]=b)}return{price:t,summaryDetail:r}}(e))})),postMessage({type:"streamer",quoteData:c})}catch(e){console.error("> Error from Finance Quote Streamer:",e)}}}function d(s="streamer"){return"poller"===s?(t||(t=new u(s)),t):(e||(e=new h(s)),e)}protobuf||console.error("> Finance Streamer: Protobuff library missing so cannot use streamer"),addEventListener("message",(s=>{const{data:n}=s,{type:i}=n||{};switch(n.cmd){case"subscribe":d(i).subscribe(n);break;case"unsubscribe":d(i).unsubscribe(n);break;case"destroy":"poller"===i&&t&&(t.destroy(),t=null),"streamer"===i&&e&&(e.destroy(),e=null)}}),!1)})();',"Worker",void 0,s.p+"js/streamer.worker.22f6c1fe23049f96cf11.worker.mjs")}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},c.apply(this,arguments)}function l({field:e,value:t,lang:s="en-US",priceHint:i,gmtOffSetMilliseconds:n,timeZoneShort:o,formatStyle:r}){const a={raw:t};switch(e){case"regularMarketVolume":case"marketCap":a.fmt=function(e,t=3){const s=Math.abs(e);return s>=1e12?`${(e/1e12).toFixed(t)}T`:s>=1e9?`${(e/1e9).toFixed(t)}B`:s>=1e6?`${(e/1e6).toFixed(t)}M`:s>=1e3?`${(e/1e3).toFixed(t)}k`:e.toFixed(0)}(t),a.longFmt=Intl.NumberFormat(s,{maximumFractionDigits:0}).format(t);break;case"extendedMarketChangePercent":case"postMarketChangePercent":case"preMarketChangePercent":case"regularMarketChangePercent":{let e=t;isNaN(t)||(e=t/100);const n=i?{minimumFractionDigits:i,maximumFractionDigits:i}:{minimumFractionDigits:2,maximumFractionDigits:4};a.fmt=Intl.NumberFormat(s,c({},n,{style:"percent"})).format(e);break}case"extendedMarketTime":case"preMarketTime":case"postMarketTime":case"regularMarketTime":a.fmt=o&&"number"==typeof n?function(e,t,s){let i="string"==typeof(n=t)?Number(n):"number"==typeof n?n:"object"==typeof n&&n instanceof Date?n.getTime():Date.now();var n;return void 0!==e.gmtOffSetMilliseconds&&("string"==typeof e.gmtOffSetMilliseconds&&(e.gmtOffSetMilliseconds=Number(e.gmtOffSetMilliseconds)),o=i,r=e.gmtOffSetMilliseconds,i=isNaN(r)?o:o+6e4*new Date(o).getTimezoneOffset()+r),function(e,t={}){const{useUTC:s=!1,fmt:i="%I:%M%P",timeZoneShort:n=""}=t;let o="",r="",a="",c="",l=0,u=0,d="";for(;-1!==(u=i.indexOf("%",u));){switch(l!==u&&(c+=i.substring(l,u)),u+=1,d=i[u],d){case"l":case"I":r||(r=s?e.getUTCHours():e.getHours(),r<12?(r=0===r?"12":String(r),o="am"):(r>12&&(r-=12),r=String(r),o="pm")),"I"===d&&1===r.length?c+=`0${r}`:c+=r;break;case"M":a||(a=String(s?e.getUTCMinutes():e.getMinutes()),1===a.length&&(a=`0${a}`)),c+=a;break;case"p":case"P":o||(o=(s?e.getUTCHours():e.getHours())<12?"am":"pm"),c+="p"===d?"am"===o?"AM":"PM":o;break;case"Z":c+=n;break;case"%":c+="%";break;case"Y":c+=e.getFullYear();break;case"m":c+=`0${e.getMonth()+1}`.slice(-2);break;case"d":c+=`0${e.getDate()}`.slice(-2)}u+=1,l=u}return l<i.length&&(c+=i.substr(l)),c}(new Date(i),{fmt:s||"%l:%M %p %Z",timeZoneShort:e.timeZoneShort,useUTC:e.useUTC});var o,r}({timeZoneShort:o,gmtOffSetMilliseconds:n},1e3*t,"%l:%M%p %Z"):"-";break;default:{const e=i?{minimumFractionDigits:i,maximumFractionDigits:i}:{minimumFractionDigits:2,maximumFractionDigits:4};r&&(e.style=r),a.fmt=Intl.NumberFormat(s,e).format(t)}}return a}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},u.apply(this,arguments)}function d(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const b={exchange:!0,shortName:!0,priceHint:!0,quoteType:!0,marketState:!0,symbol:!0,miniOption:!0,fromcurrency:!0,lastMarket:!0,circulatingSupply:!0,optionsType:!0,longName:!0},f=["exchangeTimezoneName","exchangeTimezoneShortName","regularMarketTime","gmtOffSetMilliseconds"],h={marketState:!0,preMarketTime:!0,postMarketTime:!0,regularMarketTime:!0,extendedMarketTime:!0},p="add";function m({symbols:e,fields:t}){const s=null==t?void 0:t.filter((e=>e)),i=null==e?void 0:e.filter((e=>e));return{symbols:null!=i?i:[],fields:null!=s?s:[]}}"undefined"!=typeof window&&(window.finQuoteStreamer=new class{constructor(){var o=this;d(this,"updateSubscribers",(async function(e,{symbols:t,fields:s,callback:i,priceHint:n,formatStyle:r,permanent:a=!1}){const c=[];for(let d=0;d<t.length;d++){const b=t[d];o.subscriberMap[b]||(o.subscriberMap[b]={});const f=o.subscriberMap[b],m=e===p||s?s:Object.keys(f);for(let t=0;t<m.length;t++){var l;const s=m[t];f[s]||(f[s]=[]),h[s]&&e===p&&void 0===(null==(l=o.quoteData[b])?void 0:l.gmtOffSetMilliseconds)&&c.push(b);const d=f[s];switch(e){case p:{var u;const e={callback:i};"number"==typeof n&&(e.priceHint=n),"string"==typeof r&&(e.formatStyle=r),!0===a&&(f._permanent=a),d.push(e),o.fieldMap[s]=(null!=(u=o.fieldMap[s])?u:0)+1;break}default:{let e=-1;for(let t=0;t<d.length;t++)if(d[t].callback===i){e=t;break}-1!==e&&(d.splice(e,1),o.fieldMap[s]--,0===d.length&&(delete o.subscriberMap[b][s],0===Object.keys(o.subscriberMap[b]).length&&delete o.subscriberMap[b]),0===o.fieldMap[s]&&delete o.fieldMap[s])}}}}c.length>0&&o.seedSymbols(c)})),d(this,"debouncedSeedSymbols",(()=>{let e,t=[];return s=>{clearTimeout(e),t=t.concat(s),e=setTimeout((()=>{this.seedWithQuoteData(t),t=[]}),500)}})),d(this,"seedWithQuoteData",(async function(s){var r,a;const c=[...new Set(s)].sort(),l=`${function(){const e=Math.floor(Math.random()*i.length);return i[e]}()}/v7/finance/quote?symbols=${c.join(",")}&fields=${f.join(",")}&region=${(null==(r=window.finWebCore)?void 0:r.region)||"US"}&lang=${(null==(a=window.finWebCore)?void 0:a.lang)||"en-US"}`;try{const{quoteResponse:{result:s}={}}=await function(s,{method:i="GET",withCredentials:o=!0,headers:r={},body:a,timeout:c=n,errorMsg:l="Request failed",beaconString:u="financeWebCore",isFetchDisabled:d=!1,returnErrorInfo:b=!1}={}){return new Promise(((f,h)=>{const p=Date.now();function m(t={}){"object"==typeof t&&t&&(t.timestamp=p),e("info",u,{code:200,surl:s}),f(t)}function y(t={}){t.status=t.status||500,t.message=t.message||l,e("error",u,{code:t.status,msg:t.message,surl:s}),h(t)}d||void 0===window.fetch?function(e,{method:s="GET",withCredentials:i=!0,headers:o={},body:r,timeout:a=n,successCb:c,errorCb:l}){const u=new window.XMLHttpRequest;u.open(s,e,!0),u.timeout=a,u.withCredentials=i,u.onload=()=>{let e=u.responseText;if(u.status>=200&&u.status<300){if("string"==typeof e)try{e=""!==e?JSON.parse(e):{}}catch(e){return void l({status:502,message:e.message})}c(e)}else l({status:u.status||502,message:u.responseText})},u.onerror=()=>{l({status:u.status||500,message:u.responseText})};const d=t({},"GET"!==s?{"Content-Type":"application/json"}:{},o);Object.keys(d).forEach((e=>{u.setRequestHeader(e,d[e])})),u.send(r?JSON.stringify(r):void 0)}(s,{method:i,withCredentials:o,headers:r,body:a,timeout:c,successCb:m,errorCb:y}):function(e,{method:s="GET",withCredentials:i=!0,headers:o={},body:r,returnErrorInfo:a,timeout:c=n,successCb:l,errorCb:u}){const d=new window.AbortController;let b=!1;const f=setTimeout((function(){b=!0,d.abort(),clearTimeout(f),u({status:502,message:"Request Timeout"})}),c);window.fetch(e,{method:s,mode:"cors",credentials:i?"include":"omit",headers:t({},"GET"!==s?{"Content-Type":"application/json"}:{},o),signal:d.signal,body:r?JSON.stringify(r):null}).then((async e=>{if(!b){if(clearTimeout(f),!e.ok){let o;var s,i,n;return a&&(o=null==(n=((null==(s=e.headers)||null==s.get||null==(i=s.get("content-type"))?void 0:i.includes("application/json"))?await e.json():{}).finance)?void 0:n.error),Promise.reject(t({status:e.status||502,message:e.statusText},o&&{info:o}))}return e.text()}})).then((e=>{let t=e;"application/json"===((null==o?void 0:o["Content-Type"])||"application/json")&&(t=""!==e?JSON.parse(e):{}),l(t)})).catch((e=>{b||u(t({status:e.status||502,message:e.message},e.info&&{info:e.info}))}))}(s,{method:i,withCredentials:o,headers:r,body:a,returnErrorInfo:b,timeout:c,successCb:m,errorCb:y})}))}(l,{beaconString:"finStreamer"});s.forEach((e=>{o.quoteData[e.symbol]=Object.assign({},e,o.quoteData[e.symbol])}))}catch(e){console.error(e)}})),d(this,"onUpdate",(e=>{const{data:t}=e,{quoteData:s}=t||{};s&&Object.keys(s).forEach((e=>{var t;const{price:i={},summaryDetail:n={}}=null!=(t=s[e])?t:{},o=u({},i,n);this.quoteData[e]=Object.assign({},this.quoteData[e],o);const r=this.subscriberMap[e];r&&Object.keys(o).forEach((t=>{const s=r[t];if(s)for(let n=0;n<s.length;n++){var i;const{priceHint:r,gmtOffSetMilliseconds:a,exchangeTimezoneShortName:c,timeZoneShortName:u}=this.quoteData[e],d=s[n],f=b[t]?o[t]:l({field:t,value:o[t],lang:(null==(i=window.finWebCore)?void 0:i.lang)||"en-US",priceHint:d.priceHint||r,gmtOffSetMilliseconds:a,timeZoneShort:c||u,formatStyle:d.formatStyle});this.quoteData[e][t]=f,d.callback(f,{field:t,quote:this.quoteData[e]})}}))}))})),d(this,"handleFocus",(()=>{this.pauseSubscription({symbols:Object.keys(this.subscriberMap)},!0)})),d(this,"handleBlur",(()=>{this.pauseSubscription({symbols:Object.keys(this.subscriberMap)})})),d(this,"subscribe",(({symbols:e,fields:t,type:s="streamer",callback:i,priceHint:n,formatStyle:o,permanent:r=!1})=>{var a,c;const l=m({symbols:e,fields:t});(null==(a=l.symbols)?void 0:a.length)>0&&(null==(c=l.fields)?void 0:c.length)>0&&(this.updateSubscribers("add",{symbols:l.symbols,fields:l.fields,priceHint:n,formatStyle:o,permanent:r,callback:i}),this.worker.postMessage({cmd:"subscribe",type:s,symbols:Object.keys(this.subscriberMap),fields:Object.keys(this.fieldMap)}))})),d(this,"unsubscribe",(({symbols:e,fields:t,type:s="streamer",callback:i})=>{var n,o;const r=m({symbols:e,fields:t});(null==(n=r.symbols)?void 0:n.length)>0&&(null==(o=r.fields)?void 0:o.length)>0&&(this.updateSubscribers("remove",{symbols:r.symbols,fields:r.fields,callback:i}),this.worker.postMessage({cmd:"unsubscribe",type:s,symbols:Object.keys(this.subscriberMap),fields:Object.keys(this.fieldMap)}))})),d(this,"pauseSubscription",(({symbols:e},t=!1)=>{var s;const i=m({symbols:e,fields:[]});if((null==(s=i.symbols)?void 0:s.length)>0){const e=[];let s=[];const n=new Set(i.symbols);Object.entries(this.subscriberMap).forEach((([i,o])=>{const{_permanent:r}=o;(r||(t?n.has(i):!n.has(i)))&&(s=[...s,...Object.keys(o)],e.push(i))})),this.worker.postMessage({cmd:t?"subscribe":"unsubscribe",type:"streamer",symbols:e,fields:Array.from(new Set(s))})}})),d(this,"init",(()=>{new URLSearchParams(window.location.search).has("disableStreaming")||(this.subscriberMap={},void 0===a||this.worker||(this.worker=new a,this.worker.addEventListener("message",this.onUpdate)),window.addEventListener("focus",this.handleFocus),window.addEventListener("blur",this.handleBlur),this.initialized||Promise.resolve().then(s.bind(s,8277)).then((()=>{this.initialized=!0})))})),this.subscriberMap={},this.fieldMap={},this.worker=null,this.quoteData={},this.initialized=!1,this.seedSymbols=this.debouncedSeedSymbols()}},window.finQuoteStreamer.init())})()})();